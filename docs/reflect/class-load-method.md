# 类的加载方式

## 类的加载方式有几种?
1. 隐式加载: new
2. 显示加载: loadClass,forName等,对于显示加载而言，需要获取类的Class对象(字节码对象)，通过Class对象的`newInstance()`方法创建类的对象实例。


## loadClass和forName的区别和作用?
- Class.forName得到的字节码对象Class是已经初始化完成的,例如:完成数据库驱动的初始化。
- ClassLoader.loadClass得到的Class是还没有连接的。延迟加载，把类的加载延迟到使用的时候再进行加载,提高系统的性能。


## 类的装载过程分为3步:
1. 加载: 通过ClassLoader加载class文件的字节码，生成Class<T>对象

2. 连接:
  - 2.1 校验: 检查加载的class的正确性和安全性
  - 2.2 准备: 为类变量分配存储空间并设置类变量初始值(指默认值,而非被赋值的值)
  - 2.3 解析: JVM将常量池内的符号引用转换为直接引用

3. 初始化: 执行类变量赋值和静态代码块


如下图:

![2](./images/2.jpg)

